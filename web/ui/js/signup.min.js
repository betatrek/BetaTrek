(function($){$.extend($,{clearwatermarks:function(){$("[wmwrap='true']").find("input,textarea").watermark({remove:true})},addwatermarks:function(){$("[watermark]").each(function(num,el){$(el).watermark($(el).attr("watermark"))})},watermark:function(o){o.el=$(o.el);if(o.remove){if(o.el.parent().attr("wmwrap")=="true"){o.el.parent().replaceWith(o.el)}}else{if(o.el.parent().attr("wmwrap")!="true"){o.el=o.el.wrap("<span wmwrap='true' style='position:relative;'/>");var l=$("<label/>");if(o.html){l.html(o.html)}if(o.cls){l.addClass(o.cls)}else{l.addClass("watermark")}l.css({position:"absolute",left:"3px",top:parseInt(o.el.css("paddingTop")),display:"inline",cursor:"text"});if(o.css){l.css(o.css)}if(o.el.is("TEXTAREA")){if($.browser.msie){l.css("width",o.el.width())}if($.browser.mozilla||$.browser.safari){l.css("top","")}}if(!o.cls&&!o.css){l.css("color","#ccc")}var focus=function(){l.fadeOut("slow")};var blur=function(){if(!o.el.val()){l.fadeIn("slow")}else{l.fadeOut("slow")}};var click=function(){o.el.focus()};if(o.inherit){if(typeof o.inherit=="string"){l.css(o.inherit,o.el.css(o.inherit))}else{for(var x=0;x<o.inherit.length;x++){l.css(o.inherit[x],o.el.css(o.inherit[x]))}}}o.el.focus(focus).blur(blur);l.click(click);o.el.before(l);if(o.el.val()){l.hide()}}}return o.el}});$.fn.watermark=function(o){return this.each(function(){if(typeof(o)=="string"){try{o=eval("("+o+")")}catch(ex){o={html:o}}}o.el=this;return $.watermark(o)})}})(jQuery);$().ready(function(){$.addwatermarks()});$(document).ready(function(){var n=$(window).height(),i=n,g=$("#signup"),h=g.height(),m=h+g.offset().top;if(i<=m){$("html, body").animate({scrollTop:m-i+25},2500)}var b=function(){$("html, body").stop()},e=0;$(window).click(b).scroll(function(){var p=$(this).scrollTop();if(p<e){b()}e=p});var o=$("label[for='remember_me']");$("input[name='remember_me']").hover(function(){o.addClass("hover")},function(){o.removeClass("hover")});$("[type='button'], [type='submit']").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}).mouseleave(function(){$(this).removeClass("click")});$("[type='button']:not([name='remember_me']), [type='submit']").mousedown(function(){$(this).addClass("click")}).mouseup(function(){$(this).removeClass("click")});$(".checkbox").click(function(){if($(this).hasClass("checked")){$(this).removeClass("checked").attr("value","0")}else{$(this).addClass("checked").attr("value","1")}});var k=$(".close");$(".modal").click(function(v){v.preventDefault();var q="#"+$(this).attr("name");var p=$(document).height();var u=$(document).width();$("#mask").css({width:u,height:p});$("#mask").fadeIn(1000).fadeTo("slow",0.8);var s=$(window).width();var t=$(window).height();var y=$(q).width()/2;var r=$(q).height()/2;$(q).css({left:(u/2-y)+"px",top:(p/2-r)+"px"});var w=$("#signin input.email").val();if(w!=""){$("#recovery input.email").val(w)}focus("#recovery input.email");w=$("#signup input.email").val();var x=$("#signup_pass").val();if(w!=""){$("#email").val(w)}if(x!=""){$("#password").val(x)}if($.client.os=="Windows"){k.css("left","146px")}else{k.css("left","-146px")}$(q).fadeIn(2000)});k.click(function(p){p.preventDefault();$("#mask, .window").fadeOut(1000)});$("#mask").click(function(){$(this).fadeOut(1000);$(".window").fadeOut(1000)});$("#password_reset").click(function(){var p=$("#recovery input.email").val();if(p!=""&&p!="Email Address"){$.getJSON("/investub/controller/user/getUser/"+p,function(){$("#mask, .window").fadeOut(1000)})}});populateStates();var a=$("#create_account");$("#state").chosen({no_results_text:"No matching country found."}).change(function(){a.validate().element("#state");$("#state").valid()});populateCountries();var l=$("#state_chzn, label[for='state']"),E=false;$("#country").chosen({no_results_text:"No matching country found."}).change(function(){var q=$("#country_chzn span").text(),p=$("label.error[for='agree']");if(q=="United States"){l.slideDown(2600);if(E){p.animate({top:"+=4em"},2750);E=false}$("label.error[for='state']").slideDown(2600);a.validate().element("#state");$("#state").valid()}else{if(q=="Canada"){l.slideDown(2600);if(E){p.animate({top:"+=4em"},2750);E=false}$("label.error[for='state']").slideDown(2600)}else{l.slideUp(2600);$("label.error[for='state']").slideUp(2600);if(!E){p.animate({top:"-=4em"},2750);E=true}}}a.validate().element("#country");$("#country").valid()});$("#signup_pass").showPassword({linkTopOffset:11,showPasswordInputClass:"signup_password_showing"});$("#password").showPassword({showPasswordInputClass:"creation_password_showing"});$("#create_account input, #country, #state").each(function(){var p=$(this);p.attr("name",p.attr("id"))});var j=$("#country").attr("data-placeholder"),f=$("#state").attr("date-placeholder");$("#signin").validate({errorContainer:"#signin_errors",errorLabelContainer:"ul",wrapper:"li",highlight:function(q,p){$(q).addClass("invalid")}});$("#recovery").validate();jQuery.validator.addMethod("country_required",function(q,p){return $("#country_chzn span").text()!=j},"");jQuery.validator.addMethod("agree",function(q,p){return $(p).val()==1},"");jQuery.validator.addMethod("state",function(q,p){return this.optional(p)||$("#state_chzn span").text()!=f},"");a.validate({rules:{email:{required:true,email:true},password:{required:true},country:"country_required",state:{required:{depends:"#state_chzn:visible"},state:true},agree:"agree"},highlight:function(p){var q=$(p);if(q.hasClass("chzn-select")){$("#"+q.attr("id")+"_chzn .chzn-single").addClass("invalid").removeClass("valid")}else{q.addClass("invalid").removeClass("valid")}},unhighlight:function(p){var q=$(p);if(q.hasClass("chzn-select")){$("#"+q.attr("id")+"_chzn .chzn-single").addClass("valid").removeClass("invalid")}else{q.addClass("valid").removeClass("invalid")}},messages:{email:{email:"Please change email to look like: example@domain.com",required:"Please enter your email address."},password:{required:"Please enter a password."},country:"Please select your country.",state:"Please select your state.",agree:"Please confirm agreement before continuing."}});$("#agree").bind("click",function(){a.validate().element("#agree")});$(".password, #password").chromaHash();if($.browser.mozilla){$("#signin_bar .email").watermark({html:"Email Address",css:{left:"-310px",top:"8px",color:"#aaa",fontSize:".85em"}});$("#signin_pass").watermark({html:"Password",css:{left:"-183px",top:"8px",color:"#aaa",fontSize:".85em"}})}else{if($.browser.msie){$("#signin_bar .email").watermark({html:"Email Address",css:{left:"-310px",top:"7px",color:"#aaa",fontSize:".85em"}});$("#signin_pass").watermark({html:"Password",css:{left:"-132px",top:"8px",color:"#aaa",fontSize:".85em"}})}else{$("#signin_bar .email").watermark({html:"Email Address",css:{left:"4px",top:"8px",color:"#aaa",fontSize:".85em"}});$("#signin_pass").watermark({html:"Password",css:{left:"4px",top:"8px",color:"#aaa",fontSize:".85em"}})}}if($.browser.msie){$("#signup_box .email").watermark({html:"Email Address",css:{left:"68px",top:"-15px",color:"#aaa"}});$("#signup_pass").watermark({html:"Password",cls:"watermark",css:{left:"84px",top:"-15px",color:"#aaa"}});$("#recovery .email").watermark({html:"Email Address",css:{left:"64px",top:"-13px",color:"#aaa"}});}else{$("#signup_box .email").watermark({html:"Email Address",css:{left:"68px",top:"-2px",color:"#aaa"}});$("#signup_pass").watermark({html:"Password",cls:"watermark",css:{left:"84px",top:"-2px",color:"#aaa"}});$("#recovery .email").watermark({html:"Email Address",css:{left:"64px",top:"-2px",color:"#aaa"}})}$("input[maxlength='24']").bind("keyup",function(){var p=$(this);if(p.val().length>=24){p.animate({color:"#fff"},"fast").animate({color:"#8d8d8d"},"fast")}else{p.css({color:"#000"})}});var d=$("input[type='text'], input[type='password']");d.addClass("idle").bind("focus",function(){$(this).addClass("active").removeClass("idle")}).bind("blur",function(){$(this).removeClass("active").addClass("idle")});$("#create").click(createUser)});function focus(a){$(".active").blur();$(a).focus()}function createUser(){var a=$("#create_account");a.validate();if(a.valid()){var k=$("#email").val(),b=$("#password").val(),e=$("#country_chzn span").text(),d=$("#state_chzn span").text();$.post("/controller/user/addUser",{email:k,password:b,country:e,state:d})}return false}function populateCountries(){$("#country").append("<option value='' /><option value='United States'>United States</option> <option value='United Kingdom'>United Kingdom</option> <option value='Afghanistan'>Afghanistan</option> <option value='Albania'>Albania</option> <option value='Algeria'>Algeria</option> <option value='American Samoa'>American Samoa</option> <option value='Andorra'>Andorra</option> <option value='Angola'>Angola</option> <option value='Anguilla'>Anguilla</option> <option value='Antarctica'>Antarctica</option> <option value='Antigua and Barbuda'>Antigua and Barbuda</option> <option value='Argentina'>Argentina</option> <option value='Armenia'>Armenia</option> <option value='Aruba'>Aruba</option> <option value='Australia'>Australia</option> <option value='Austria'>Austria</option> <option value='Azerbaijan'>Azerbaijan</option> <option value='Bahamas'>Bahamas</option> <option value='Bahrain'>Bahrain</option> <option value='Bangladesh'>Bangladesh</option> <option value='Barbados'>Barbados</option> <option value='Belarus'>Belarus</option> <option value='Belgium'>Belgium</option> <option value='Belize'>Belize</option> <option value='Benin'>Benin</option> <option value='Bermuda'>Bermuda</option> <option value='Bhutan'>Bhutan</option> <option value='Bolivia'>Bolivia</option> <option value='Bosnia and Herzegovina'>Bosnia and Herzegovina</option> <option value='Botswana'>Botswana</option> <option value='Bouvet Island'>Bouvet Island</option> <option value='Brazil'>Brazil</option> <option value='British Indian Ocean Territory'>British Indian Ocean Territory</option> <option value='Brunei Darussalam'>Brunei Darussalam</option> <option value='Bulgaria'>Bulgaria</option> <option value='Burkina Faso'>Burkina Faso</option> <option value='Burundi'>Burundi</option> <option value='Cambodia'>Cambodia</option> <option value='Cameroon'>Cameroon</option> <option value='Canada'>Canada</option> <option value='Cape Verde'>Cape Verde</option> <option value='Cayman Islands'>Cayman Islands</option> <option value='Central African Republic'>Central African Republic</option> <option value='Chad'>Chad</option> <option value='Chile'>Chile</option> <option value='China'>China</option> <option value='Christmas Island'>Christmas Island</option> <option value='Cocos (Keeling) Islands'>Cocos (Keeling) Islands</option> <option value='Colombia'>Colombia</option> <option value='Comoros'>Comoros</option> <option value='Congo'>Congo</option> <option value='Congo, The Democratic Republic of The'>Congo, The Democratic Republic of The</option> <option value='Cook Islands'>Cook Islands</option> <option value='Costa Rica'>Costa Rica</option> <option value='Cote D'ivoire'>Cote D'ivoire</option> <option value='Croatia'>Croatia</option> <option value='Cuba'>Cuba</option> <option value='Cyprus'>Cyprus</option> <option value='Czech Republic'>Czech Republic</option> <option value='Denmark'>Denmark</option> <option value='Djibouti'>Djibouti</option> <option value='Dominica'>Dominica</option> <option value='Dominican Republic'>Dominican Republic</option> <option value='Ecuador'>Ecuador</option> <option value='Egypt'>Egypt</option> <option value='El Salvador'>El Salvador</option> <option value='Equatorial Guinea'>Equatorial Guinea</option> <option value='Eritrea'>Eritrea</option> <option value='Estonia'>Estonia</option> <option value='Ethiopia'>Ethiopia</option> <option value='Falkland Islands (Malvinas)'>Falkland Islands (Malvinas)</option> <option value='Faroe Islands'>Faroe Islands</option> <option value='Fiji'>Fiji</option> <option value='Finland'>Finland</option> <option value='France'>France</option> <option value='French Guiana'>French Guiana</option> <option value='French Polynesia'>French Polynesia</option> <option value='French Southern Territories'>French Southern Territories</option> <option value='Gabon'>Gabon</option> <option value='Gambia'>Gambia</option> <option value='Georgia'>Georgia</option> <option value='Germany'>Germany</option> <option value='Ghana'>Ghana</option> <option value='Gibraltar'>Gibraltar</option> <option value='Greece'>Greece</option> <option value='Greenland'>Greenland</option> <option value='Grenada'>Grenada</option> <option value='Guadeloupe'>Guadeloupe</option> <option value='Guam'>Guam</option> <option value='Guatemala'>Guatemala</option> <option value='Guinea'>Guinea</option> <option value='Guinea-bissau'>Guinea-bissau</option> <option value='Guyana'>Guyana</option> <option value='Haiti'>Haiti</option> <option value='Heard Island and Mcdonald Islands'>Heard Island and Mcdonald Islands</option> <option value='Holy See (Vatican City State)'>Holy See (Vatican City State)</option> <option value='Honduras'>Honduras</option> <option value='Hong Kong'>Hong Kong</option> <option value='Hungary'>Hungary</option> <option value='Iceland'>Iceland</option> <option value='India'>India</option> <option value='Indonesia'>Indonesia</option> <option value='Iran, Islamic Republic of'>Iran, Islamic Republic of</option> <option value='Iraq'>Iraq</option> <option value='Ireland'>Ireland</option> <option value='Israel'>Israel</option> <option value='Italy'>Italy</option> <option value='Jamaica'>Jamaica</option> <option value='Japan'>Japan</option> <option value='Jordan'>Jordan</option> <option value='Kazakhstan'>Kazakhstan</option> <option value='Kenya'>Kenya</option> <option value='Kiribati'>Kiribati</option> <option value='Korea, Democratic People's Republic of'>Korea, Democratic People's Republic of</option> <option value='Korea, Republic of'>Korea, Republic of</option> <option value='Kuwait'>Kuwait</option> <option value='Kyrgyzstan'>Kyrgyzstan</option> <option value='Lao People's Democratic Republic'>Lao People's Democratic Republic</option> <option value='Latvia'>Latvia</option> <option value='Lebanon'>Lebanon</option> <option value='Lesotho'>Lesotho</option> <option value='Liberia'>Liberia</option> <option value='Libyan Arab Jamahiriya'>Libyan Arab Jamahiriya</option> <option value='Liechtenstein'>Liechtenstein</option> <option value='Lithuania'>Lithuania</option> <option value='Luxembourg'>Luxembourg</option> <option value='Macao'>Macao</option> <option value='Macedonia, The Former Yugoslav Republic of'>Macedonia, The Former Yugoslav Republic of</option> <option value='Madagascar'>Madagascar</option> <option value='Malawi'>Malawi</option> <option value='Malaysia'>Malaysia</option> <option value='Maldives'>Maldives</option> <option value='Mali'>Mali</option> <option value='Malta'>Malta</option> <option value='Marshall Islands'>Marshall Islands</option> <option value='Martinique'>Martinique</option> <option value='Mauritania'>Mauritania</option> <option value='Mauritius'>Mauritius</option> <option value='Mayotte'>Mayotte</option> <option value='Mexico'>Mexico</option> <option value='Micronesia, Federated States of'>Micronesia, Federated States of</option> <option value='Moldova, Republic of'>Moldova, Republic of</option> <option value='Monaco'>Monaco</option> <option value='Mongolia'>Mongolia</option> <option value='Montenegro'>Montenegro</option><option value='Montserrat'>Montserrat</option> <option value='Morocco'>Morocco</option> <option value='Mozambique'>Mozambique</option> <option value='Myanmar'>Myanmar</option> <option value='Namibia'>Namibia</option> <option value='Nauru'>Nauru</option> <option value='Nepal'>Nepal</option> <option value='Netherlands'>Netherlands</option> <option value='Netherlands Antilles'>Netherlands Antilles</option> <option value='New Caledonia'>New Caledonia</option> <option value='New Zealand'>New Zealand</option> <option value='Nicaragua'>Nicaragua</option> <option value='Niger'>Niger</option> <option value='Nigeria'>Nigeria</option> <option value='Niue'>Niue</option> <option value='Norfolk Island'>Norfolk Island</option> <option value='Northern Mariana Islands'>Northern Mariana Islands</option> <option value='Norway'>Norway</option> <option value='Oman'>Oman</option> <option value='Pakistan'>Pakistan</option> <option value='Palau'>Palau</option> <option value='Palestinian Territory, Occupied'>Palestinian Territory, Occupied</option> <option value='Panama'>Panama</option> <option value='Papua New Guinea'>Papua New Guinea</option> <option value='Paraguay'>Paraguay</option> <option value='Peru'>Peru</option> <option value='Philippines'>Philippines</option> <option value='Pitcairn'>Pitcairn</option> <option value='Poland'>Poland</option> <option value='Portugal'>Portugal</option> <option value='Puerto Rico'>Puerto Rico</option> <option value='Qatar'>Qatar</option> <option value='Reunion'>Reunion</option> <option value='Romania'>Romania</option> <option value='Russian Federation'>Russian Federation</option> <option value='Rwanda'>Rwanda</option> <option value='Saint Helena'>Saint Helena</option> <option value='Saint Kitts and Nevis'>Saint Kitts and Nevis</option> <option value='Saint Lucia'>Saint Lucia</option> <option value='Saint Pierre and Miquelon'>Saint Pierre and Miquelon</option> <option value='Saint Vincent and The Grenadines'>Saint Vincent and The Grenadines</option> <option value='Samoa'>Samoa</option> <option value='San Marino'>San Marino</option> <option value='Sao Tome and Principe'>Sao Tome and Principe</option> <option value='Saudi Arabia'>Saudi Arabia</option> <option value='Senegal'>Senegal</option> <option value='Serbia'>Serbia</option> <option value='Seychelles'>Seychelles</option> <option value='Sierra Leone'>Sierra Leone</option> <option value='Singapore'>Singapore</option> <option value='Slovakia'>Slovakia</option> <option value='Slovenia'>Slovenia</option> <option value='Solomon Islands'>Solomon Islands</option> <option value='Somalia'>Somalia</option> <option value='South Africa'>South Africa</option> <option value='South Georgia and The South Sandwich Islands'>South Georgia and The South Sandwich Islands</option> <option value='South Sudan'>South Sudan</option> <option value='Spain'>Spain</option> <option value='Sri Lanka'>Sri Lanka</option> <option value='Sudan'>Sudan</option> <option value='Suriname'>Suriname</option> <option value='Svalbard and Jan Mayen'>Svalbard and Jan Mayen</option> <option value='Swaziland'>Swaziland</option> <option value='Sweden'>Sweden</option> <option value='Switzerland'>Switzerland</option> <option value='Syrian Arab Republic'>Syrian Arab Republic</option> <option value='Taiwan, Republic of China'>Taiwan, Republic of China</option> <option value='Tajikistan'>Tajikistan</option> <option value='Tanzania, United Republic of'>Tanzania, United Republic of</option> <option value='Thailand'>Thailand</option> <option value='Timor-leste'>Timor-leste</option> <option value='Togo'>Togo</option> <option value='Tokelau'>Tokelau</option> <option value='Tonga'>Tonga</option> <option value='Trinidad and Tobago'>Trinidad and Tobago</option> <option value='Tunisia'>Tunisia</option> <option value='Turkey'>Turkey</option> <option value='Turkmenistan'>Turkmenistan</option> <option value='Turks and Caicos Islands'>Turks and Caicos Islands</option> <option value='Tuvalu'>Tuvalu</option> <option value='Uganda'>Uganda</option> <option value='Ukraine'>Ukraine</option> <option value='United Arab Emirates'>United Arab Emirates</option> <option value='United Kingdom'>United Kingdom</option> <option value='United States'>United States</option> <option value='United States Minor Outlying Islands'>United States Minor Outlying Islands</option> <option value='Uruguay'>Uruguay</option> <option value='Uzbekistan'>Uzbekistan</option> <option value='Vanuatu'>Vanuatu</option> <option value='Venezuela'>Venezuela</option> <option value='Viet Nam'>Viet Nam</option> <option value='Virgin Islands, British'>Virgin Islands, British</option> <option value='Virgin Islands, U.S.'>Virgin Islands, U.S.</option> <option value='Wallis and Futuna'>Wallis and Futuna</option> <option value='Western Sahara'>Western Sahara</option> <option value='Yemen'>Yemen</option> <option value='Zambia'>Zambia</option> <option value='Zimbabwe'>Zimbabwe</option>")}function populateStates(){$("#state").append("<option value='' /><option value='AL'>Alabama</option><option value='AK'>Alaska</option><option value='AZ'>Arizona</option><option value='AR'>Arkansas</option><option value='CA'>California</option><option value='CO'>Colorado</option><option value='CT'>Connecticut</option><option value='DE'>Delaware</option><option value='DC'>District of Columbia</option><option value='FL'>Florida</option><option value='GA'>Georgia</option><option value='HI'>Hawaii</option><option value='ID'>Idaho</option><option value='IL'>Illinois</option><option value='IN'>Indiana</option><option value='IA'>Iowa</option><option value='KS'>Kansas</option><option value='KY'>Kentucky</option><option value='LA'>Louisiana</option><option value='ME'>Maine</option><option value='MD'>Maryland</option><option value='MA'>Massachusetts</option><option value='MI'>Michigan</option><option value='MN'>Minnesota</option><option value='MS'>Mississippi</option><option value='MO'>Missouri</option><option value='MT'>Montana</option><option value='NE'>Nebraska</option><option value='NV'>Nevada</option><option value='NH'>New Hampshire</option><option value='NJ'>New Jersey</option><option value='NM'>New Mexico</option><option value='NY'>New York</option><option value='NC'>North Carolina</option><option value='ND'>North Dakota</option><option value='OH'>Ohio</option><option value='OK'>Oklahoma</option><option value='OR'>Oregon</option><option value='PA'>Pennsylvania</option><option valur='PR'>Puerto Rico</option><option value='RI'>Rhode Island</option><option value='SC'>South Carolina</option><option value='SD'>South Dakota</option><option value='TN'>Tennessee</option><option value='TX'>Texas</option><option value='UT'>Utah</option><option value='VT'>Vermont</option><option value='VA'>Virginia</option><option value='WA'>Washington</option><option value='WV'>West Virginia</option><option value='WI'>Wisconsin</option><option value='WY'>Wyoming</option>")}(function(b){b.extend(b.fn,{validate:function(a){if(this.length){var e=b.data(this[0],"validator");if(e){return e}e=new b.validator(a,this[0]);b.data(this[0],"validator",e);if(e.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){e.cancelSubmit=true});e.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){e.submitButton=this});this.submit(function(g){function d(){if(e.settings.submitHandler){if(e.submitButton){var f=b("<input type='hidden'/>").attr("name",e.submitButton.name).val(e.submitButton.value).appendTo(e.currentForm)}e.settings.submitHandler.call(e,e.currentForm);e.submitButton&&f.remove();return false}return true}e.settings.debug&&g.preventDefault();if(e.cancelSubmit){e.cancelSubmit=false;return d()}if(e.form()){if(e.pendingRequest){e.formSubmitted=true;return false}return d()}else{e.focusInvalid();return false}})}return e}else{a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")}},valid:function(){if(b(this[0]).is("form")){return this.validate().form()}else{var a=true,e=b(this[0].form).validate();this.each(function(){a&=e.element(this)});return a}},removeAttrs:function(d){var g={},a=this;b.each(d.split(/\s/),function(f,e){g[e]=a.attr(e);a.removeAttr(e)});return g},rules:function(g,o){var h=this[0];if(g){var d=b.data(h.form,"validator").settings,a=d.rules,e=b.validator.staticRules(h);switch(g){case"add":b.extend(e,b.validator.normalizeRule(o));a[h.name]=e;if(o.messages){d.messages[h.name]=b.extend(d.messages[h.name],o.messages)}break;case"remove":if(!o){delete a[h.name];return e}var f={};b.each(o.split(/\s/),function(i,j){f[j]=e[j];delete e[j]});return f}}h=b.validator.normalizeRules(b.extend({},b.validator.metadataRules(h),b.validator.classRules(h),b.validator.attributeRules(h),b.validator.staticRules(h)),h);if(h.required){d=h.required;delete h.required;h=b.extend({required:d},h)}return h}});b.extend(b.expr[":"],{blank:function(a){return !b.trim(""+a.value)},filled:function(a){return !!b.trim(""+a.value)},unchecked:function(a){return !a.checked}});b.validator=function(a,e){this.settings=b.extend(true,{},b.validator.defaults,a);this.currentForm=e;this.init()};b.validator.format=function(a,e){if(arguments.length==1){return function(){var d=b.makeArray(arguments);d.unshift(a);return b.validator.format.apply(this,d)}}if(arguments.length>2&&e.constructor!=Array){e=b.makeArray(arguments).slice(1)}if(e.constructor!=Array){e=[e]}b.each(e,function(g,d){a=a.replace(RegExp("\\{"+g+"\\}","g"),d)});return a};b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))){this.element(a)}},onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement){this.element(a)}},onclick:function(a){if(a.name in this.submitted){this.element(a)}else{a.parentNode.name in this.submitted&&this.element(a.parentNode)}},highlight:function(d,g,a){d.type==="radio"?this.findByName(d.name).addClass(g).removeClass(a):b(d).addClass(g).removeClass(a)},unhighlight:function(d,g,a){d.type==="radio"?this.findByName(d.name).removeClass(g).addClass(a):b(d).removeClass(g).addClass(a)}},setDefaults:function(a){b.extend(b.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:b.validator.format("Please enter no more than {0} characters."),minlength:b.validator.format("Please enter at least {0} characters."),rangelength:b.validator.format("Please enter a value between {0} and {1} characters long."),range:b.validator.format("Please enter a value between {0} and {1}."),max:b.validator.format("Please enter a value less than or equal to {0}."),min:b.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function d(f){var e=b.data(this[0].form,"validator");f="on"+f.type.replace(/^validate/,"");e.settings[f]&&e.settings[f].call(e,this[0])}this.labelContainer=b(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||b(this.currentForm);this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var g=this.groups={};b.each(this.settings.groups,function(f,e){b.each(e.split(/\s/),function(h,k){g[k]=f})});var a=this.settings.rules;b.each(a,function(f,e){a[f]=b.validator.normalizeRule(e)});b(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",d).validateDelegate(":radio, :checkbox, select, option","click",d);this.settings.invalidHandler&&b(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();b.extend(this.submitted,this.errorMap);this.invalid=b.extend({},this.errorMap);this.valid()||b(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,e=this.currentElements=this.elements();e[a];a++){this.check(e[a])}return this.valid()},element:function(a){this.lastElement=a=this.clean(a);this.prepareElement(a);this.currentElements=b(a);var e=this.check(a);if(e){delete this.invalid[a.name]}else{this.invalid[a.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return e},showErrors:function(a){if(a){b.extend(this.errorMap,a);this.errorList=[];for(var e in a){this.errorList.push({message:a[e],element:this.findByName(e)[0]})}this.successList=b.grep(this.successList,function(d){return !(d.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){b.fn.resetForm&&b(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(d){var g=0,a;for(a in d){g++}return g},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}}},findLastActive:function(){var a=this.lastActive;return a&&b.grep(this.errorList,function(d){return d.element.name==a.name}).length==1&&a},elements:function(){var a=this,e={};return b(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in e||!a.objectLength(b(this).rules())){return false}return e[this.name]=true})},clean:function(a){return b(a)[0]},errors:function(){return b(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=b([]);this.toHide=b([]);this.currentElements=b([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(g){g=this.clean(g);if(this.checkable(g)){g=this.findByName(g.name).not(this.settings.ignore)[0]}var o=b(g).rules(),h=false,d;for(d in o){var a={method:d,parameters:o[d]};try{var e=b.validator.methods[d].call(this,g.value.replace(/\r/g,""),g,a.parameters);if(e=="dependency-mismatch"){h=true}else{h=false;if(e=="pending"){this.toHide=this.toHide.not(this.errorsFor(g));return}if(!e){this.formatAndAdd(g,a);return false}}}catch(f){this.settings.debug&&window.console&&console.log("exception occured when checking element "+g.id+", check the '"+a.method+"' method",f);throw f}}if(!h){this.objectLength(o)&&this.successList.push(g);return true}},customMetaMessage:function(d,g){if(b.metadata){var a=this.settings.meta?b(d).metadata()[this.settings.meta]:b(d).metadata();return a&&a.messages&&a.messages[g]}},customMessage:function(d,g){var a=this.settings.messages[d];return a&&(a.constructor==String?a:a[g])},findDefined:function(){for(var a=0;a<arguments.length;a++){if(arguments[a]!==undefined){return arguments[a]}}},defaultMessage:function(a,e){return this.findDefined(this.customMessage(a.name,e),this.customMetaMessage(a,e),!this.settings.ignoreTitle&&a.title||undefined,b.validator.messages[e],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(e,i){var a=this.defaultMessage(e,i.method),d=/\$?\{(\d+)\}/g;if(typeof a=="function"){a=a.call(this,i.parameters,e)}else{if(d.test(a)){a=jQuery.format(a.replace(d,"{$1}"),i.parameters)}}this.errorList.push({message:a,element:e});this.errorMap[e.name]=a;this.submitted[e.name]=a},addWrapper:function(a){if(this.settings.wrapper){a=a.add(a.parent(this.settings.wrapper))}return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var e=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,e.element,this.settings.errorClass,this.settings.validClass);this.showLabel(e.element,e.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(a=0;this.successList[a];a++){this.showLabel(this.successList[a])}}if(this.settings.unhighlight){a=0;for(e=this.validElements();e[a];a++){this.settings.unhighlight.call(this,e[a],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(d,g){var a=this.errorsFor(d);if(a.length){a.removeClass().addClass(this.settings.errorClass);a.attr("generated")&&a.html(g)}else{a=b("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(d),generated:true}).addClass(this.settings.errorClass).html(g||"");if(this.settings.wrapper){a=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}this.labelContainer.append(a).length||(this.settings.errorPlacement?this.settings.errorPlacement(a,b(d)):a.insertAfter(d))}if(!g&&this.settings.success){a.text("");typeof this.settings.success=="string"?a.addClass(this.settings.success):this.settings.success(a)}this.toShow=this.toShow.add(a)},errorsFor:function(a){var e=this.idOrName(a);return this.errors().filter(function(){return b(this).attr("for")==e})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var e=this.currentForm;return b(document.getElementsByName(a)).map(function(g,d){return d.form==e&&d.name==a&&d||null})},getLength:function(a,e){switch(e.nodeName.toLowerCase()){case"select":return b("option:selected",e).length;case"input":if(this.checkable(e)){return this.findByName(e.name).filter(":checked").length}}return a.length},depend:function(a,e){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,e):true},dependTypes:{"boolean":function(a){return a},string:function(a,e){return !!b(a,e.form).length},"function":function(a,e){return a(e)}},optional:function(a){return !b.validator.methods.required.call(this,b.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,e){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[a.name];if(e&&this.pendingRequest==0&&this.formSubmitted&&this.form()){b(this.currentForm).submit();this.formSubmitted=false}else{if(!e&&this.pendingRequest==0&&this.formSubmitted){b(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(a){return b.data(a,"previousValue")||b.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,e){a.constructor==String?this.classRuleSettings[a]=e:b.extend(this.classRuleSettings,a)},classRules:function(a){var e={};(a=b(a).attr("class"))&&b.each(a.split(" "),function(){this in b.validator.classRuleSettings&&b.extend(e,b.validator.classRuleSettings[this])});return e},attributeRules:function(e){var i={};e=b(e);for(var a in b.validator.methods){var d=e.attr(a);if(d){i[a]=d}}i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength;return i},metadataRules:function(a){if(!b.metadata){return{}}var e=b.data(a.form,"validator").settings.meta;return e?b(a).metadata()[e]:b(a).metadata()},staticRules:function(d){var g={},a=b.data(d.form,"validator");if(a.settings.rules){g=b.validator.normalizeRule(a.settings.rules[d.name])||{}}return g},normalizeRules:function(a,e){b.each(a,function(f,i){if(i===false){delete a[f]}else{if(i.param||i.depends){var d=true;switch(typeof i.depends){case"string":d=!!b(i.depends,e.form).length;break;case"function":d=i.depends.call(e,e)}if(d){a[f]=i.param!==undefined?i.param:true}else{delete a[f]}}}});b.each(a,function(g,d){a[g]=b.isFunction(d)?d(e):d});b.each(["minlength","maxlength","min","max"],function(){if(a[this]){a[this]=Number(a[this])}});b.each(["rangelength","range"],function(){if(a[this]){a[this]=[Number(a[this][0]),Number(a[this][1])]}});if(b.validator.autoCreateRanges){if(a.min&&a.max){a.range=[a.min,a.max];delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;return a},normalizeRule:function(a){if(typeof a=="string"){var e={};b.each(a.split(/\s/),function(){e[this]=true});a=e}return a},addMethod:function(d,g,a){b.validator.methods[d]=g;b.validator.messages[d]=a!=undefined?a:b.validator.messages[d];g.length<3&&b.validator.addClassRules(d,b.validator.normalizeRule(d))},methods:{required:function(d,g,a){if(!this.depend(a,g)){return"dependency-mismatch"}switch(g.nodeName.toLowerCase()){case"select":return(d=b(g).val())&&d.length>0;case"input":if(this.checkable(g)){return this.getLength(d,g)>0}default:return b.trim(d).length>0}},remote:function(g,m,a){if(this.optional(m)){return"dependency-mismatch"}var d=this.previousValue(m);this.settings.messages[m.name]||(this.settings.messages[m.name]={});d.originalMessage=this.settings.messages[m.name].remote;this.settings.messages[m.name].remote=d.message;a=typeof a=="string"&&{url:a}||a;if(this.pending[m.name]){return"pending"}if(d.old===g){return d.valid}d.old=g;var e=this;this.startRequest(m);var f={};f[m.name]=g;b.ajax(b.extend(true,{url:a,mode:"abort",port:"validate"+m.name,dataType:"json",data:f,success:function(i){e.settings.messages[m.name].remote=d.originalMessage;var h=i===true;if(h){var j=e.formSubmitted;e.prepareElement(m);e.formSubmitted=j;e.successList.push(m);e.showErrors()}else{j={};i=i||e.defaultMessage(m,"remote");j[m.name]=d.message=b.isFunction(i)?i(g):i;e.showErrors(j)}d.valid=h;e.stopRequest(m,h)}},a));return"pending"},minlength:function(d,g,a){return this.optional(g)||this.getLength(b.trim(d),g)>=a},maxlength:function(d,g,a){return this.optional(g)||this.getLength(b.trim(d),g)<=a},rangelength:function(d,g,a){d=this.getLength(b.trim(d),g);return this.optional(g)||d>=a[0]&&d<=a[1]},min:function(d,g,a){return this.optional(g)||d>=a},max:function(d,g,a){return this.optional(g)||d<=a},range:function(d,g,a){return this.optional(g)||d>=a[0]&&d<=a[1]},email:function(a,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(a)},url:function(a,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,e){return this.optional(e)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,e){return this.optional(e)||/^\d+$/.test(a)},creditcard:function(g,m){if(this.optional(m)){return"dependency-mismatch"}if(/[^0-9-]+/.test(g)){return false}var a=0,d=0,e=false;g=g.replace(/\D/g,"");for(var f=g.length-1;f>=0;f--){d=g.charAt(f);d=parseInt(d,10);if(e){if((d*=2)>9){d-=9}}a+=d;e=!e}return a%10==0},accept:function(d,g,a){a=typeof a=="string"?a.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(g)||d.match(RegExp(".("+a+")$","i"))},equalTo:function(d,g,a){a=b(a).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){b(g).valid()});return d==a.val()}}});b.format=b.validator.format})(jQuery);(function(g){var a={};if(g.ajaxPrefilter){g.ajaxPrefilter(function(d,e,f){e=d.port;if(d.mode=="abort"){a[e]&&a[e].abort();a[e]=f}})}else{var b=g.ajax;g.ajax=function(d){var e=("port" in d?d:g.ajaxSettings).port;if(("mode" in d?d:g.ajaxSettings).mode=="abort"){a[e]&&a[e].abort();return a[e]=b.apply(this,arguments)}return b.apply(this,arguments)}}})(jQuery);(function(b){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&b.each({focus:"focusin",blur:"focusout"},function(d,g){function a(e){e=b.event.fix(e);e.type=g;return b.event.handle.call(this,e)}b.event.special[g]={setup:function(){this.addEventListener(d,a,true)},teardown:function(){this.removeEventListener(d,a,true)},handler:function(e){arguments[0]=b.event.fix(e);arguments[0].type=g;return b.event.handle.apply(this,arguments)}}});b.extend(b.fn,{validateDelegate:function(d,g,a){return this.bind(g,function(f){var e=b(f.target);if(e.is(d)){return a.apply(e,arguments)}})}})})(jQuery);(function(){var f,j,i,h,g=function(b,a){return function(){return b.apply(a,arguments)}};h=this,f=jQuery,f.fn.extend({chosen:function(a){return f.browser!=="msie"||f.browser.version!=="6.0"&&f.browser.version!=="7.0"?f(this).each(function(b){if(!f(this).hasClass("chzn-done")){return new j(this,a)}}):this}}),j=function(){function a(d,b){b==null&&(b={}),this.options=b,this.set_default_values(),this.form_field=d,this.form_field_jq=f(this.form_field),this.is_multiple=this.form_field.multiple,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl"),this.default_text_default=this.form_field.multiple?"Select Some Options":"Select an Option",this.set_up_html(),this.register_observers(),this.form_field_jq.addClass("chzn-done")}a.prototype.set_default_values=function(){this.click_test_action=g(function(b){return this.test_active_click(b)},this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.choices=0;return this.results_none_found=this.options.no_results_text||"No results match"},a.prototype.set_up_html=function(){var k,e,d,b;this.container_id=this.form_field.id.length?this.form_field.id.replace(/(:|\.)/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.f_width=this.form_field_jq.outerWidth(),this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default,k=f("<div />",{id:this.container_id,"class":"chzn-container "+(this.is_rtl?"chzn-rtl":""),style:"width: "+this.f_width+"px;"}),this.is_multiple?k.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):k.html('<a href="javascript:void(0)" class="chzn-single"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(k),this.container=f("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),e=this.container.height(),d=this.f_width-i(this.dropdown),this.dropdown.css({width:d+"px",top:e+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),b=d-i(this.search_container)-i(this.search_field),this.search_field.css({width:b+"px"})),this.results_build();return this.set_tab_index()},a.prototype.register_observers=function(){this.container.mousedown(g(function(b){return this.container_mousedown(b)},this)),this.container.mouseenter(g(function(b){return this.mouse_enter(b)},this)),this.container.mouseleave(g(function(b){return this.mouse_leave(b)},this)),this.search_results.mouseup(g(function(b){return this.search_results_mouseup(b)},this)),this.search_results.mouseover(g(function(b){return this.search_results_mouseover(b)},this)),this.search_results.mouseout(g(function(b){return this.search_results_mouseout(b)},this)),this.form_field_jq.bind("liszt:updated",g(function(b){return this.results_update_field(b)},this)),this.search_field.blur(g(function(b){return this.input_blur(b)},this)),this.search_field.keyup(g(function(b){return this.keyup_checker(b)},this)),this.search_field.keydown(g(function(b){return this.keydown_checker(b)},this));if(this.is_multiple){this.search_choices.click(g(function(b){return this.choices_click(b)},this));return this.search_field.focus(g(function(b){return this.input_focus(b)},this))}return this.selected_item.focus(g(function(b){return this.activate_field(b)},this))},a.prototype.container_mousedown=function(b){b&&b.type==="mousedown"&&b.stopPropagation();if(!this.pending_destroy_click){this.active_field?!this.is_multiple&&b&&(f(b.target)===this.selected_item||f(b.target).parents("a.chzn-single").length)&&(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),f(document).click(this.click_test_action),this.results_show());return this.activate_field()}return this.pending_destroy_click=!1},a.prototype.mouse_enter=function(){return this.mouse_on_container=!0},a.prototype.mouse_leave=function(){return this.mouse_on_container=!1},a.prototype.input_focus=function(b){if(!this.active_field){return setTimeout(g(function(){return this.container_mousedown()},this),50)}},a.prototype.input_blur=function(b){if(!this.mouse_on_container){this.active_field=!1;return setTimeout(g(function(){return this.blur_test()},this),100)}},a.prototype.blur_test=function(b){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}},a.prototype.close_field=function(){f(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default();return this.search_field_scale()},a.prototype.activate_field=function(){!this.is_multiple&&!this.active_field&&(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val());return this.search_field.focus()},a.prototype.test_active_click=function(b){return f(b.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},a.prototype.results_build=function(){var l,e,k,d,b,m;k=new Date,this.parsing=!0,this.results_data=h.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||this.selected_item.find("span").text(this.default_text),l="",m=this.results_data;for(d=0,b=m.length;d<b;d++){e=m[d],e.group?l+=this.result_add_group(e):e.empty||(l+=this.result_add_option(e),e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&this.selected_item.find("span").text(e.text))}this.show_search_field_default(),this.search_field_scale(),this.search_results.html(l);return this.parsing=!1},a.prototype.result_add_group=function(b){if(!b.disabled){b.dom_id=this.container_id+"_g_"+b.array_index;return'<li id="'+b.dom_id+'" class="group-result">'+f("<div />").text(b.label).html()+"</li>"}return""},a.prototype.result_add_option=function(b){var d;if(!b.disabled){b.dom_id=this.container_id+"_o_"+b.array_index,d=b.selected&&this.is_multiple?[]:["active-result"],b.selected&&d.push("result-selected"),b.group_array_index!=null&&d.push("group-option");return'<li id="'+b.dom_id+'" class="'+d.join(" ")+'">'+b.html+"</li>"}return""},a.prototype.results_update_field=function(){this.result_clear_highlight(),this.result_single_selected=null;return this.results_build()},a.prototype.result_do_highlight=function(m){var l,e,k,d,b;if(m.length){this.result_clear_highlight(),this.result_highlight=m,this.result_highlight.addClass("highlighted"),k=parseInt(this.search_results.css("maxHeight"),10),b=this.search_results.scrollTop(),d=k+b,e=this.result_highlight.position().top+this.search_results.scrollTop(),l=e+this.result_highlight.outerHeight();if(l>=d){return this.search_results.scrollTop(l-k>0?l-k:0)}if(e<b){return this.search_results.scrollTop(e)}}},a.prototype.result_clear_highlight=function(){this.result_highlight&&this.result_highlight.removeClass("highlighted");return this.result_highlight=null},a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},a.prototype.results_show=function(){var b;this.is_multiple||(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected)),b=this.is_multiple?this.container.height():this.container.height()-1,this.dropdown.css({top:b+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val());return this.winnow_results()},a.prototype.results_hide=function(){this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.dropdown.css({left:"-9000px"});return this.results_showing=!1},a.prototype.set_tab_index=function(b){var d;if(this.form_field_jq.attr("tabindex")){d=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1);if(this.is_multiple){return this.search_field.attr("tabindex",d)}this.selected_item.attr("tabindex",d);return this.search_field.attr("tabindex",-1)}},a.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}this.search_field.val("");return this.search_field.removeClass("default")},a.prototype.search_results_mouseup=function(d){var b;b=f(d.target).hasClass("active-result")?f(d.target):f(d.target).parents(".active-result").first();if(b.length){this.result_highlight=b;return this.result_select(d)}},a.prototype.search_results_mouseover=function(d){var b;b=f(d.target).hasClass("active-result")?f(d.target):f(d.target).parents(".active-result").first();if(b){return this.result_do_highlight(b)}},a.prototype.search_results_mouseout=function(b){if(f(b.target).hasClass("active-result")){return this.result_clear_highlight()}},a.prototype.choices_click=function(b){b.preventDefault();if(this.active_field&&!f(b.target).hasClass("search-choice")&&!this.results_showing){return this.results_show()}},a.prototype.choice_build=function(e){var d,b;d=this.container_id+"_c_"+e.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+d+'"><span>'+e.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+e.array_index+'"></a></li>'),b=f("#"+d).find("a").first();return b.click(g(function(k){return this.choice_destroy_link_click(k)},this))},a.prototype.choice_destroy_link_click=function(b){b.preventDefault(),this.pending_destroy_click=!0;return this.choice_destroy(f(b.target))},a.prototype.choice_destroy=function(b){this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(b.attr("rel"));return b.parents("li").first().remove()},a.prototype.result_select=function(d){var b,l,k,e;if(this.result_highlight){b=this.result_highlight,l=b.attr("id"),this.result_clear_highlight(),b.addClass("result-selected"),this.is_multiple?this.result_deactivate(b):this.result_single_selected=b,e=l.substr(l.lastIndexOf("_")+1),k=this.results_data[e],k.selected=!0,this.form_field.options[k.options_index].selected=!0,this.is_multiple?this.choice_build(k):this.selected_item.find("span").first().text(k.text),(!d.metaKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),this.form_field_jq.trigger("change");return this.search_field_scale()}},a.prototype.result_activate=function(b){return b.addClass("active-result").show()},a.prototype.result_deactivate=function(b){return b.removeClass("active-result").hide()},a.prototype.result_deselect=function(e){var d,b;b=this.results_data[e],b.selected=!1,this.form_field.options[b.options_index].selected=!1,d=f("#"+this.container_id+"_o_"+e),d.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change");return this.search_field_scale()},a.prototype.results_search=function(b){return this.results_showing?this.winnow_results():this.results_show()},a.prototype.winnow_results=function(){var t,d,y,w,k,e,b,E,D,C,B,z,u,s,A,x,v;D=new Date,this.no_results_clear(),b=0,E=this.search_field.val()===this.default_text?"":f("<div/>").text(f.trim(this.search_field.val())).html(),k=new RegExp("^"+E.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),z=new RegExp(E.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),v=this.results_data;for(u=0,A=v.length;u<A;u++){d=v[u];if(!d.disabled&&!d.empty){if(d.group){f("#"+d.dom_id).hide()}else{if(!this.is_multiple||!d.selected){t=!1,e=d.dom_id;if(k.test(d.html)){t=!0,b+=1}else{if(d.html.indexOf(" ")>=0||d.html.indexOf("[")===0){w=d.html.replace(/\[|\]/g,"").split(" ");if(w.length){for(s=0,x=w.length;s<x;s++){y=w[s],k.test(y)&&(t=!0,b+=1)}}}}t?(E.length?(C=d.html.search(z),B=d.html.substr(0,C+E.length)+"</em>"+d.html.substr(C+E.length),B=B.substr(0,C)+"<em>"+B.substr(C)):B=d.html,f("#"+e).html!==B&&f("#"+e).html(B),this.result_activate(f("#"+e)),d.group_array_index!=null&&f("#"+this.results_data[d.group_array_index].dom_id).show()):(this.result_highlight&&e===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(f("#"+e)))}}}}return b<1&&E.length?this.no_results(E):this.winnow_results_set_highlight()},a.prototype.winnow_results_clear=function(){var b,l,k,e,d;this.search_field.val(""),l=this.search_results.find("li"),d=[];for(k=0,e=l.length;k<e;k++){b=l[k],b=f(b),d.push(b.hasClass("group-result")?b.show():!this.is_multiple||!b.hasClass("result-selected")?this.result_activate(b):void 0)}return d},a.prototype.winnow_results_set_highlight=function(){var b,d;if(!this.result_highlight){d=this.is_multiple?[]:this.search_results.find(".result-selected"),b=d.length?d.first():this.search_results.find(".active-result").first();if(b!=null){return this.result_do_highlight(b)}}},a.prototype.no_results=function(d){var b;b=f('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),b.find("span").first().html(d);return this.search_results.append(b)},a.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},a.prototype.keydown_arrow=function(){var d,b;this.result_highlight?this.results_showing&&(b=this.result_highlight.nextAll("li.active-result").first(),b&&this.result_do_highlight(b)):(d=this.search_results.find("li.active-result").first(),d&&this.result_do_highlight(f(d)));if(!this.results_showing){return this.results_show()}},a.prototype.keyup_arrow=function(){var b;if(!this.results_showing&&!this.is_multiple){return this.results_show()}if(this.result_highlight){b=this.result_highlight.prevAll("li.active-result");if(b.length){return this.result_do_highlight(b.first())}this.choices>0&&this.results_hide();return this.result_clear_highlight()}},a.prototype.keydown_backstroke=function(){if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}this.pending_backstroke=this.search_container.siblings("li.search-choice").last();return this.pending_backstroke.addClass("search-choice-focus")},a.prototype.clear_backstroke=function(){this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null},a.prototype.keyup_checker=function(b){var e,d;e=(d=b.which)!=null?d:b.keyCode,this.search_field_scale();switch(e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0){return this.keydown_backstroke()}if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}break;case 13:b.preventDefault();if(this.results_showing){return this.result_select(b)}break;case 27:if(this.results_showing){return this.results_hide()}break;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},a.prototype.keydown_checker=function(b){var e,d;e=(d=b.which)!=null?d:b.keyCode,this.search_field_scale(),e!==8&&this.pending_backstroke&&this.clear_backstroke();switch(e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.mouse_on_container=!1;break;case 13:b.preventDefault();break;case 38:b.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},a.prototype.search_field_scale=function(){var d,b,p,o,n,m,l,k,e;if(this.is_multiple){p=0,l=0,n="position:absolute; left: -1000px; top: -1000px; display:none;",m=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(k=0,e=m.length;k<e;k++){o=m[k],n+=o+":"+this.search_field.css(o)+";"}b=f("<div />",{style:n}),b.text(this.search_field.val()),f("body").append(b),l=b.width()+25,b.remove(),l>this.f_width-10&&(l=this.f_width-10),this.search_field.css({width:l+"px"}),d=this.container.height();return this.dropdown.css({top:d+"px"})}},a.prototype.generate_field_id=function(){var b;b=this.generate_random_id(),this.form_field.id=b;return b},a.prototype.generate_random_id=function(){var b;b="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(f("#"+b).length>0){b+=this.generate_random_char()}return b},a.prototype.generate_random_char=function(){var b,e,d;b="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ",d=Math.floor(Math.random()*b.length);return e=b.substring(d,d+1)};return a}(),i=function(b){var a;return a=b.outerWidth()-b.width()},h.get_side_border_padding=i}).call(this),function(){var b;b=function(){function a(){this.options_index=0,this.parsed=[]}a.prototype.add_node=function(d){return d.nodeName==="OPTGROUP"?this.add_group(d):this.add_option(d)},a.prototype.add_group=function(j){var l,h,n,i,m,k;l=this.parsed.length,this.parsed.push({array_index:l,group:!0,label:j.label,children:0,disabled:j.disabled}),m=j.childNodes,k=[];for(n=0,i=m.length;n<i;n++){h=m[n],k.push(this.add_option(h,l,j.disabled))}return k},a.prototype.add_option=function(e,d,f){if(e.nodeName==="OPTION"){e.text!==""?(d!=null&&(this.parsed[d].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:f===!0?f:e.disabled,group_array_index:d})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0});return this.options_index+=1}};return a}(),b.select_to_array=function(l){var h,k,j,i,a;k=new b,a=l.childNodes;for(j=0,i=a.length;j<i;j++){h=a[j],k.add_node(h)}return k.parsed},this.SelectParser=b}.call(this);(function(a){a.fn.extend({chromaHash:function(b){var d={bars:3,salt:"7be82b35cb0199120eea35a4507c9acf",minimum:6};var b=a.extend(d,b);return this.each(function(){var u=b;var J=a(this);if(u.bars<1||u.bars>4){console.log("[Warning] Chroma-Hash expects a number parameter between 1 and 4, given "+u.bars)}var z=["primary","secondary","tertiary","quaternary"].slice(0,u.bars);var e=function(o){id=a(o).attr("id");return a("label.chroma-hash").filter(function(K){return a(this).attr("for")==id})};var q=function(K){var o=a(this);if(o.val()==""){e(this).animate({backgroundColor:"#ffffff",opacity:0});return}position=o.position();height=o.innerHeight();width=o.innerWidth();e(this).each(function(O){properties={position:"absolute",opacity:1,left:position.left+width,top:position.top+2,height:height-2+"px",width:8+"px",margin:0+"px",marginLeft:-8*(++O)+"px"};if(a.browser.safari){properties.marginTop=3+"px"}else{properties.marginTop=1+"px"}var P=o.attr("id");if(P=="signup_pass"||P=="signup_password_showing"){properties.top=45+"px";properties.height=30+"px";properties.left=217.5+"px"}a(this).css(properties)});var M=o.attr("id");var L=i(""+o.val()+":"+u.salt);var N=L.match(/([\dABCDEF]{6})/ig);a(".chroma-hash").stop();if(o.val().length<u.minimum){e(this).each(function(O){var P=(parseInt(N[O],16)%15).toString(16);a(this).animate({backgroundColor:"#"+P+P+P})})}else{e(this).each(function(Q){var P=parseInt(N[Q],16);var T=(P>>16)&255;var S=(P>>8)&255;var O=P&255;var R=a.map([T,S,O],function(V,U){return((V>>4)*16).toString(16)}).join("");a(this).animate({backgroundColor:"#"+R})})}};J.each(function(o){for(c in z){a(this).after('<label for="'+a(this).attr("id")+'" class="'+z[c]+' chroma-hash"></label>')}e(this).css({backgroundColor:"#FFF",opacity:0});a(this).bind("keyup",q).bind("blur",q)});var m=0;var j="";function i(o){return l(D(p(o)))}function G(o){return s(D(p(o)))}function n(o,K){return I(D(p(o)),K)}function H(o,K){return l(h(p(o),p(K)))}function x(o,K){return s(h(p(o),p(K)))}function k(o,K,L){return I(h(p(o),p(K)),L)}function D(o){return C(f(B(o),o.length*8))}function h(o,N){var K=B(o);if(K.length>16){K=f(K,o.length*8)}var O=Array(16),P=Array(16);for(var L=0;L<16;L++){O[L]=K[L]^909522486;P[L]=K[L]^1549556828}var M=f(O.concat(B(N)),512+N.length*8);return C(f(P.concat(M),512+128))}function l(N){try{m}catch(K){m=0}var M=m?"0123456789ABCDEF":"0123456789abcdef";var o="";var O;for(var L=0;L<N.length;L++){O=N.charCodeAt(L);o+=M.charAt((O>>>4)&15)+M.charAt(O&15)}return o}function s(K){try{j}catch(O){j=""}var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var M="";var P=K.length;for(var Q=0;Q<P;Q+=3){var N=(K.charCodeAt(Q)<<16)|(Q+1<P?K.charCodeAt(Q+1)<<8:0)|(Q+2<P?K.charCodeAt(Q+2):0);for(var o=0;o<4;o++){if(Q*8+o*6>K.length*8){M+=j}else{M+=L.charAt((N>>>6*(3-o))&63)}}}return M}function I(M,U){var o=U.length;var N,R,K,L,S;var O=Array(Math.ceil(M.length/2));for(N=0;N<O.length;N++){O[N]=(M.charCodeAt(N*2)<<8)|M.charCodeAt(N*2+1)}var P=Math.ceil(M.length*8/(Math.log(U.length)/Math.log(2)));var Q=Array(P);for(R=0;R<P;R++){S=Array();L=0;for(N=0;N<O.length;N++){L=(L<<16)+O[N];K=Math.floor(L/o);L-=K*o;if(S.length>0||K>0){S[S.length]=K}}Q[R]=L;O=S}var T="";for(N=Q.length-1;N>=0;N--){T+=U.charAt(Q[N])}return T}function p(K){var M="";var L=-1;var N,o;while(++L<K.length){N=K.charCodeAt(L);o=L+1<K.length?K.charCodeAt(L+1):0;if(55296<=N&&N<=56319&&56320<=o&&o<=57343){N=65536+((N&1023)<<10)+(o&1023);L++}if(N<=127){M+=String.fromCharCode(N)}else{if(N<=2047){M+=String.fromCharCode(192|((N>>>6)&31),128|(N&63))}else{if(N<=65535){M+=String.fromCharCode(224|((N>>>12)&15),128|((N>>>6)&63),128|(N&63))}else{if(N<=2097151){M+=String.fromCharCode(240|((N>>>18)&7),128|((N>>>12)&63),128|((N>>>6)&63),128|(N&63))}}}}}return M}function F(L){var o="";for(var K=0;K<L.length;K++){o+=String.fromCharCode(L.charCodeAt(K)&255,(L.charCodeAt(K)>>>8)&255)}return o}function w(L){var o="";for(var K=0;K<L.length;K++){o+=String.fromCharCode((L.charCodeAt(K)>>>8)&255,L.charCodeAt(K)&255)}return o}function B(L){var o=Array(L.length>>2);for(var K=0;K<o.length;K++){o[K]=0}for(var K=0;K<L.length*8;K+=8){o[K>>5]|=(L.charCodeAt(K/8)&255)<<(K%32)}return o}function C(L){var o="";for(var K=0;K<L.length*32;K+=8){o+=String.fromCharCode((L[K>>5]>>>(K%32))&255)}return o}function f(L,Q){L[Q>>5]|=128<<((Q)%32);L[(((Q+64)>>>9)<<4)+14]=Q;var M=1732584193;var N=-271733879;var O=-1732584194;var P=271733878;for(var T=0;T<L.length;T+=16){var R=M;var S=N;var o=O;var K=P;M=v(M,N,O,P,L[T+0],7,-680876936);P=v(P,M,N,O,L[T+1],12,-389564586);O=v(O,P,M,N,L[T+2],17,606105819);N=v(N,O,P,M,L[T+3],22,-1044525330);M=v(M,N,O,P,L[T+4],7,-176418897);P=v(P,M,N,O,L[T+5],12,1200080426);O=v(O,P,M,N,L[T+6],17,-1473231341);N=v(N,O,P,M,L[T+7],22,-45705983);M=v(M,N,O,P,L[T+8],7,1770035416);P=v(P,M,N,O,L[T+9],12,-1958414417);O=v(O,P,M,N,L[T+10],17,-42063);N=v(N,O,P,M,L[T+11],22,-1990404162);M=v(M,N,O,P,L[T+12],7,1804603682);P=v(P,M,N,O,L[T+13],12,-40341101);O=v(O,P,M,N,L[T+14],17,-1502002290);N=v(N,O,P,M,L[T+15],22,1236535329);M=t(M,N,O,P,L[T+1],5,-165796510);P=t(P,M,N,O,L[T+6],9,-1069501632);O=t(O,P,M,N,L[T+11],14,643717713);N=t(N,O,P,M,L[T+0],20,-373897302);M=t(M,N,O,P,L[T+5],5,-701558691);P=t(P,M,N,O,L[T+10],9,38016083);O=t(O,P,M,N,L[T+15],14,-660478335);N=t(N,O,P,M,L[T+4],20,-405537848);M=t(M,N,O,P,L[T+9],5,568446438);P=t(P,M,N,O,L[T+14],9,-1019803690);O=t(O,P,M,N,L[T+3],14,-187363961);N=t(N,O,P,M,L[T+8],20,1163531501);M=t(M,N,O,P,L[T+13],5,-1444681467);P=t(P,M,N,O,L[T+2],9,-51403784);O=t(O,P,M,N,L[T+7],14,1735328473);N=t(N,O,P,M,L[T+12],20,-1926607734);M=A(M,N,O,P,L[T+5],4,-378558);P=A(P,M,N,O,L[T+8],11,-2022574463);O=A(O,P,M,N,L[T+11],16,1839030562);N=A(N,O,P,M,L[T+14],23,-35309556);M=A(M,N,O,P,L[T+1],4,-1530992060);P=A(P,M,N,O,L[T+4],11,1272893353);O=A(O,P,M,N,L[T+7],16,-155497632);N=A(N,O,P,M,L[T+10],23,-1094730640);M=A(M,N,O,P,L[T+13],4,681279174);P=A(P,M,N,O,L[T+0],11,-358537222);O=A(O,P,M,N,L[T+3],16,-722521979);N=A(N,O,P,M,L[T+6],23,76029189);M=A(M,N,O,P,L[T+9],4,-640364487);P=A(P,M,N,O,L[T+12],11,-421815835);O=A(O,P,M,N,L[T+15],16,530742520);N=A(N,O,P,M,L[T+2],23,-995338651);M=r(M,N,O,P,L[T+0],6,-198630844);P=r(P,M,N,O,L[T+7],10,1126891415);O=r(O,P,M,N,L[T+14],15,-1416354905);N=r(N,O,P,M,L[T+5],21,-57434055);M=r(M,N,O,P,L[T+12],6,1700485571);P=r(P,M,N,O,L[T+3],10,-1894986606);O=r(O,P,M,N,L[T+10],15,-1051523);N=r(N,O,P,M,L[T+1],21,-2054922799);M=r(M,N,O,P,L[T+8],6,1873313359);P=r(P,M,N,O,L[T+15],10,-30611744);O=r(O,P,M,N,L[T+6],15,-1560198380);N=r(N,O,P,M,L[T+13],21,1309151649);M=r(M,N,O,P,L[T+4],6,-145523070);P=r(P,M,N,O,L[T+11],10,-1120210379);O=r(O,P,M,N,L[T+2],15,718787259);N=r(N,O,P,M,L[T+9],21,-343485551);M=y(M,R);N=y(N,S);O=y(O,o);P=y(P,K)}return Array(M,N,O,P)}function E(K,N,o,O,M,L){return y(g(y(y(N,K),y(O,L)),M),o)}function v(o,K,M,N,O,L,P){return E((K&M)|((~K)&N),o,K,O,L,P)}function t(o,K,M,N,O,L,P){return E((K&N)|(M&(~N)),o,K,O,L,P)}function A(o,K,M,N,O,L,P){return E(K^M^N,o,K,O,L,P)}function r(o,K,M,N,O,L,P){return E(M^(K|(~N)),o,K,O,L,P)}function y(L,M){var o=(L&65535)+(M&65535);var K=(L>>16)+(M>>16)+(o>>16);return(K<<16)|(o&65535)}function g(o,K){return(o<<K)|(o>>>(32-K))}})}})})(jQuery);(function(b){b.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(f,g){b.fx.step[g]=function(h){if(h.state==0){h.start=d(h.elem,g);h.end=e(h.end)}h.elem.style[g]="rgb("+[Math.max(Math.min(parseInt((h.pos*(h.end[0]-h.start[0]))+h.start[0]),255),0),Math.max(Math.min(parseInt((h.pos*(h.end[1]-h.start[1]))+h.start[1]),255),0),Math.max(Math.min(parseInt((h.pos*(h.end[2]-h.start[2]))+h.start[2]),255),0)].join(",")+")"}});function e(f){var g;if(f&&f.constructor==Array&&f.length==3){return f}if(g=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(f)){return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])]}if(g=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(f)){return[parseFloat(g[1])*2.55,parseFloat(g[2])*2.55,parseFloat(g[3])*2.55]}if(g=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(f)){return[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]}if(g=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(f)){return[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)]}return a[b.trim(f).toLowerCase()]}function d(g,f){var h;do{h=b.curCSS(g,f);if(h!=""&&h!="transparent"||b.nodeName(g,"body")){break}f="backgroundColor"}while(g=g.parentNode);return e(h)}var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(){var b={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(f){for(var a=0;a<f.length;a++){var h=f[a].string;var g=f[a].prop;this.versionSearchString=f[a].versionSearch||f[a].identity;if(h){if(h.indexOf(f[a].subString)!=-1){return f[a].identity}}else{if(g){return f[a].identity}}}},searchVersion:function(d){var a=d.indexOf(this.versionSearchString);if(a==-1){return}return parseFloat(d.substring(a+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};b.init();window.$.client={os:b.OS,browser:b.browser}})();(function(b){b.fn.showPassword=function(a){var d=b.extend({},b.fn.showPassword.defaults,a);return this.each(function(){var u=b(this),x=u.position(),s=u.outerWidth(),w=u.outerHeight(),A=u.parent(),v=A.height(),D=u.attr("id"),o=b.Event("keyup");o.which="35";var C=b.meta?b.extend({},d,u.data()):d;A.height(v);b("<a/>",{href:"#","class":C.linkClass,click:function(f){var e=A.find("."+C.showPasswordInputClass),g=e.attr("id");toggleLink=u.prev(".watermark");if(u.css("display")==="none"){b(this).text(C.linkText);u.val(e.val()).show();e.hide();b("label[for='"+D+"']").show();if(u.val()!==""){u.focus().trigger(o)}else{toggleLink.show();u.trigger(o)}}else{b(this).text(C.showPasswordLinkText);e.val(u.val()).show().focus().trigger(o);u.hide();toggleLink.hide()}f.preventDefault()},css:{left:x.left+s,top:x.top+w},text:C.linkText}).appendTo(A);var y=A.find("."+C.linkClass),z=y.outerWidth(),B=parseInt(y.css("left"),10),E=y.outerHeight(),t=parseInt(y.css("top"),10);y.css({left:(B-z-C.linkRightOffset),top:(t-E-C.linkTopOffset)});if(u.attr("id")=="password"){y.css({left:188,top:102})}b(this).before(b("<input/>",{"class":C.showPasswordInputClass+" password img",id:C.showPasswordInputClass,maxlength:parseInt(b(this).attr("maxlength"),10),css:{display:"none"},type:"text"}));u.closest("form").bind("submit",function(){if(u.css("display")==="none"){var e=u.siblings("."+C.showPasswordInputClass);u.val(e.val()).show();e.hide();b("label[for='"+D+"']").show().trigger(o);u.prev().hide()}})})};b.fn.showPassword.defaults={linkClass:"show-password-link",linkText:"Show",showPasswordLinkText:"Hide",showPasswordInputClass:"password-showing",linkRightOffset:180,linkTopOffset:0}})(jQuery);